---
layout: post
title: Javascript基础二
date: 2018-12-19
categories: blog
tags: [JavaScript]
description: 文艺的流氓。
---

#### 类型转换

来谈一谈`JavaScript`中的类型转换。在大多数的情况下，运算符和函数会自动的转换为正确的类型。

比如：`alert`会自动将任何值转换成字符串。算数运算符会把值转换成数字。

还有一些是需要显式进行类型转换。

##### String

当需要一个字符串的时候,使用`string`来进行转换。比如下面的例子：

```javascript
let v1 = true;
alert(typeof v1);
// 此时v1的类型就是Booblean
v1 = String(v1);
alert(typeof v1);
// 此时v1的类型就转换成了字符串类型
```

不过需要注意的就是这个的`String`中的`S`是大写的。

转换的值一般都是可见的。`true`转换成`"true"`.

##### Number

在算术函数和表达式中,会自动进行`number`类型转换：

```javascript
let r1;
r1 = "10" / "2";
alert(typeof r1);
//此时返回的类型就是number
//这是运算符的隐式转换。
```

```javascript
//显示转换
let r2 = "10";
r2 = Number(r2);
alert(typeof r2);
//这里的N是一定需要大写的。如果字符串中的不是数字的字符那么会报错NaN
```

```javascript
//Booblean转换
let r3 = true;
r3 = Number(true);
alert(r3);
//此时r3的值已经是1.而false就是0
```

`Number`转换`null`也会是零.

在运算符中加号是一个特别的转换的规则如下：

在一个表达式中存在加号,只有要一方是加号。最后的出来的结果就是字符串。

##### Boolean转换

假值，比如 `0`、空的字符串、`null`、`undefined` 和 `NaN` 变成 `false`。

其他的值都是`true`。

```javascript
alert( Boolean(1) ); // true
alert( Boolean(0) ); // false

alert( Boolean("hello") ); // true
alert( Boolean("") ); // false
```

#### 运算符

也是就是`一元运算符`,`二元运算符`,`运算元`。其中运算元可以被称为参数。`5 * 2`其中`*`就是二元运算符,他有左运算元`5`和右运算元`2`。

加号就是二元运算符的时候,其中有一个是字符串那么,此时的加号的作用就是连接符号。

```javascript
alert( 1 + 1 + '1');
//最后的得出的结果就是21
//因为是从运算符是从左往右的运算的。
```

一元运算符`+`。就是数字转换功能。对数字是没有作用的。其作用和`Number`差不多。

```javascript
alert(+false);//会显示0
alert(+true);//会显示1
```

可以用一元运算符来满足字符串转换数字的需求。

```javascript
let num1 = "10";
let num2 = "15";
alert(+num1 + +num2);
//返回的结果就是15
```

运算符中的优先级。一元运算符`+`比二元运算符`+`优先级更高。这样才可以来解释上面的那个式子。

##### 赋值运算符

赋值运算符就是等号`=`。他的优先级只有`3`。是极低的。

```javascript
let a,b,c;
a = b = c = 2 + 2;
alert(a);
alert(b);
alert(c);
//结果都是4
```

求余运算符`%`还有幂运算符`**`。这里两个没有什么好说的。

##### 自相加/自相减。

- 自相加`++`

```javascript
let num = 2;
num++;
alert(num);
//此时的num是3
```

- 自相减`--`

```javascript
let num = 4;
num--;
alert(num);
//num5的值就是3
```

- 自相加和自相减只能应用于变量.数值会报错。

`++`和`--`可以放在变量的后面和前面。

- 当`++`放在变量的前面的时候被称为前置模式`++num`
- 当`++`放在变量的后面的时候被称为后置模式`num++`

他们的区别只能够在返回值的时候看的到。

```javascript
let num = 10;
num++;
//后置模式会以前的值 也就是10
++num;
//而前置模式会显示12 因为上面已经加了1了
//自相减也是这样的。
//如果我们需要使用以前的值那就是用后置模式 如果想要使用新值那就使用前置模式
```

自相加和自相减的运算等级比较高。

##### 位运算符

位运算符把运算元当做 32 位比特序列，并在它们的二元表现形式上操作。

- 按位与 ( `&` )
- 按位或 ( `|` )
- 按位异或 ( `^` )
- 按位非 ( `~` )
- 左移 ( `<<` )
- 右移 ( `>>` )
- 无符号右移 ( `>>>` )

#### 值的比较

一些常见的比较符号

- 大于 / 小于：`a > b`，`a < b`。
- 大于等于 / 小于等于：`a >= b`，`a <= b`。
- 检测两个值的相等写为 `a == b`（注意表达式中是两个等号 `=`，若写为单个等号 `a = b` 则表示赋值）。
- 检测两个值的不等，在数学中使用 `≠` 符号，而在 JavaScript 中则通过在赋值符号前增加叹号表示：`a != b`。

比较操作符返回的结果不是`true`就是`false`。`true`表示正确,`false`表示错误

```javascript
alert(2 > 1); // true
alert(2 < 1); //false
let ret = 10 < 2; // 把比较的值赋值给ret
```

##### 字符串比较

在比较字符串的大小时，会使用“字典”或“词典”顺序进行判定。

换言之，字符串是按字符（母）逐个进行比较的。

```javascript
alert('A' > 'Z'); // False
alert('AAA' > 'AAB'); //False
```


字符串间的比较算法非常简单：

1. 首先比较两个字符串的首位字符大小。
2. 如果一方字符较大（或较小），则该字符串大于（或小于）另一个字符串。算法结束。
3. 否则，两个字符串中的字符相等，继续取出各自的后一位字符进行比较。
4. 重复上述步骤进行比较，直到某字符串率先用完所有字符。
5. 如果两个字符串同时用完字符，那么它们被判定为相等，否则未结束（还有未比较的字符）的字符串更大。

在字符串`"AAA"`和`AAB`比较会按字符逐个进行比较：

1. `A` 和 `A` 相等。
2. `A` 和 `A` 相等。
3. `A` 比 `B` 大，算法停止，第一个字符串小于第二个。

而其中使用的算法,并不是`字典`而是`Unicode`编码顺序。

##### 不同类型中的比较

当数字和字符串比较的时候,会先转换成数字进行比较。

而布尔类型就是`true`是转换成`1`。`False`是会被转换成`0`

一个有趣的现象：

- 若直接比较两个值，其结果是相等的。
- 若把两个值转为布尔值，它们可能得出完全相反的结果，即 `true` 和 `false`。

```javascript
let a = 0;
alert( Boolean(a) ); // false

let b = "0";
alert( Boolean(b) ); // true

alert(a == b); // true!
```

##### 严格相等

普通的相等性检查 `==` 存在一个问题，它不能区分出 `0` 和 `false`：

```javascript
alert(0 == false); // true
//无法区分0和false
alert('' == false); //true
//无法区分空字符和false
```

因为在比较的时候会把值转换成数字来进行比较。空字符串和`0`都是`false`

使用严格相等`===`在进行比较的时候不会做任何的类型转换

意思就是说值一和值二相比较发现不是同类型的那么就是立马返回`false`

```javscript
alert(0 === false);
alert("" === false);
```

严格的不相等符号就是`!==`

#####  不和任何类型的值作比较的Undefined

```javascript
alert( undefined > 0 ); // false (1)
alert( undefined < 0 ); // false (2)
alert( undefined == 0 ); // false (3)
```

- `(1)` 和 `(2)` 中返回 `false` 是因为 `undefined` 在比较中被转换为了 `NaN`，而 `NaN` 是一个特殊的数值型取值，它与任何值进行比较都会返回 `false`。
- `(3)` 中返回 `false` 是因为这是一个相等性检测，而 `undefined` 只与 `null` 相等。

#### 小结

- 比较操作符始终返回逻辑值。
- 字符串间按“词典”顺序逐字符比较大小。
- 当待比较的值类型不同时，它们会被转为数字（不包括严格相等检测）进行比较。
- 在非严格相等 `==` 下，`null` 和 `undefined` 相等且各自不等于任何其他的值。
- 在使用 `>` 或 `<` 进行比较时，需要注意变量可能为 `null/undefined` 的情况。比较好的方法是单独检查变量是否等于 `null/undefined`。

#### 用户交互

和用户交互的三个函数。

`confirm` 函数显示一个带有 `question` 和两个按钮的模态窗口：确定和取消。

`prompt` 函数接收两个参数，第一个参数就是给用户显示的。第二个参数就是输入默认值。

和我交互的一个小列子：

```javascript
"use static"
let retulst = prompt('place is import !',100);
alert(`My name is ${retulst}`);
//英语蹩脚不要见怪。
```

前面使用了接收消息的`prompt`。接收到的消息使用`alert(1)`弹出来。







